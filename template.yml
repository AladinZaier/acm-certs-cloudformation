---
  AWSTemplateFormatVersion: "2010-09-09"
  Parameters:
    Domains:
      Description: "Comma-separated list of domain names"
      Type: "CommaDelimitedList"
  Resources:
    ACMCertificate:
      Type: "Custom::AcmCertificateRequest"
      Properties:
        ServiceToken: 'arn:aws:lambda:us-east-1:368950843917:function:cloudformation-acm-resource:PROD'
        # Await is a boolean, whether or not to wait for the cert to be
        # validated. Will wait up to 5 mins (max Lambda execution time)
        Await: true
        # optional: ValidationOptions
        # ValidationOptions is a list of maps from the domain name being
        # registered to the preferred registration emails.
        # ValidationOptions:
        #   - DomainName: test.foo.com
        #     ValidationDomain: foo.com
        # TODO AttachCloudFront is a CloudFront distribution ID to add the
        # certificate to when it's issued. Implies Await=True
        Domains:
          Ref: Domains
